{% extends 'base/main.html'%}
{% block content %}

<style>
  .container-box{
      padding: 15px 30px 50px 30px;
  }
</style>

<br>

<div class="d-flex flex-row align-items-center justify-content-around" style="margin-top: 0px">
  <div class="p-2 flex-fill justify-content-start">
    <h1 style="text-align: left;">Hello {{ user.username }}</h1>
  </div>
  <div class="p-2 flex-shrink-1 justify-content-center">
    <a class="btn btn-danger" href="{% url 'menu' %}" role="button">Return to menu</a>
  </div>
  <div class="p-2 flex-shrink-1 justify-content-end">
    <a class="btn btn-primary" href="{% url 'project-create' %}" role="button">Create new project</a>
  </div>
</div>

<br>

<table class="table table-hover" style="margin-top: -5px;">
  <thead>
    <tr>
      <th>#</th>
      <th scope="col">Name</th>
      <th scope="col">Description</th>
      <th scope="col">Date Created</th>
      <th scope="col">Options</th>
    </tr>
  </thead>
  
  <tbody>
    {% for project in projects %}
      <tr>
        <td>{{forloop.counter}}</td>
        <td>{{project.prj_name}}</td>
        <td>{{project.prj_description}}</td>
        <td>{{project.prj_datecreated}}</td>

        <td>
          <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Edit the name and description of the project." data-bs-placement="top" data-bs-content="Top popover">
            <a href="{% url 'project-edit' project.id %}" class="btn btn-info btn-block" role="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
              </svg>
            </a>
          </span>
          <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Fill data and review the results of the project." data-bs-placement="top" data-bs-content="Top popover">
            <a href="{% url 'project-details' project.id %}" class="btn btn-success" role="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-text" viewBox="0 0 16 16">
                <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>
                <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
              </svg>
            </a>
          </span>
          <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Delete this project." data-bs-placement="top" data-bs-content="Top popover">
            <a href="{% url 'project-delete' project.id %}" class="btn btn-danger " id="deleteButton" role="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
              </svg>
            </a>
          </span>
        </td>
      </tr>

      
    {% empty %}
      <h3>There are no projects created</h3>
    {% endfor %}
    
  </tbody>
</table>

{% endblock content %}